<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>OpenNSL API Guide and Reference Manual: Platform Setup</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen_brcm.css" rel="stylesheet" type="text/css" />
<link href="tabs_brcm.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">OpenNSL API Guide and Reference Manual
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.2 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Welcome</span></a></li>
      <li class="current"><a href="pages.html"><span>OpenNSL&#160;Documentation</span></a></li>
      <li><a href="modules.html"><span>API&#160;Reference</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Platform Setup </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1><a class="anchor" id="OPENNSL_PLATFORM_STEPS"></a>
Platform specific instructions</h1>
<h2><a class="anchor" id="AS5712_PLATFORM"></a>
AS5712 platform</h2>
<p>The transmit power of optical transceivers are controlled through CPLD devices that are connected to CPU over I2C bus. The following I2C utilities are used to control transmit power from the Linux shell.</p>
<pre>
To enable transmit power on ports 1-8, write data 0x00 (BITS 0-7 for Ports 1-8 respectively) to register 0x0C, present on CPLD device at address 0x61.
  i2cset -y 1 0x61 0x0c 0x00 b</pre><pre>Similary, for ports 9-16, 17-24, 25-32, 33-40 and 41-48
  i2cset -y 1 0x61 0x0d 0x00 b
  i2cset -y 1 0x61 0x0e 0x00 b</pre><pre>  i2cset -y 1 0x62 0x0c 0x00 b
  i2cset -y 1 0x62 0x0d 0x00 b
  i2cset -y 1 0x62 0x0e 0x00 b</pre><pre>Use 'i2cget' command to read a register. For example, to read transmit power status of ports 1-8, read register 0x0C, issue
  i2cget -y 1 0x61 0x0C b</pre><pre>Use 'i2cdump' to dump all registers. Example: i2cdump -y 1 0x61 b
</pre><h2><a class="anchor" id="AG7648_PLATFORM"></a>
AG7648 platform</h2>
<p>The transmit power of optical transceivers are controlled through CPLD devices that are connected to CPU over I2C bus. The following I2C utilities are used to control transmit power from the Linux shell.</p>
<pre>
To enable transmit power on ports 1-8, write data 0x00 (BITS 0-7 for Ports 1-8 respectively) to register 0x08, present on CPLD device at address 0x33.
  i2cset -y 1 0x33 0x08 0x00 b</pre><pre>Similary, for ports 9-16, 17-24, 25-32, 33-40 and 41-48
  i2cset -y 1 0x33 0x09 0x00 b
  i2cset -y 1 0x33 0x0a 0x00 b</pre><pre>  i2cset -y 1 0x33 0x0b 0x00 b
  i2cset -y 1 0x33 0x0c 0x00 b
  i2cset -y 1 0x33 0x0d 0x00 b</pre><pre>Use 'i2cget' command to read a register. For example, to read transmit power status of ports 1-8, read register 0x08, issue
  i2cget -y 1 0x33 0x08 b</pre><pre>Use 'i2cdump' to dump all registers. Example: i2cdump -y 1 0x33 b
</pre> </div></div><!-- contents -->
<!-- HTML footer for doxygen 1.8.5-->
<!-- start footer part -->
<!--BEGIN GENERATE_TREEVIEW -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
<hr>
<p>	
<table class="footer-brcm">
	<tr>
		<td class="footer-brcm"><img src="BRCM_Red+Black_noTag_RGB.png" align=left></td>
		<td class="footer-brcm"><small><b>&copy;  2016-17 by Broadcom Limited. All rights reserved.</b></small>
			<div class="footer-brcm"><small>Broadcom Limited reserves the right to make changes without further notice to any products or data herein to improve reliability, function, or design. 
Information furnished by Broadcom Limited is believed to be accurate and reliable. However, Broadcom Limited does not assume any liability arising 
out of the application or use of this information, nor the application or use of any product or circuit described herein, neither does it convey any license 
under its patent rights nor the rights of others. </small>
			</div>
		</td>
	</tr>
</table>	
</p>	
</div>
<!--END GENERATE_TREEVIEW-->
</body>
</html>
