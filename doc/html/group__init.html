<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>OpenNSL API Guide and Reference Manual: Initialization</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen_brcm.css" rel="stylesheet" type="text/css" />
<link href="tabs_brcm.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">OpenNSL API Guide and Reference Manual
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.2 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Welcome</span></a></li>
      <li><a href="pages.html"><span>OpenNSL&#160;Documentation</span></a></li>
      <li><a href="modules.html"><span>API&#160;Reference</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#files">Files</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Initialization</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structopennsl__info__s.html">opennsl_info_s</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">OPENNSL Information structure.  <a href="structopennsl__info__s.html#details">More...</a><br/></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="files"></a>
Files</h2></td></tr>
<tr class="memitem:init_8h"><td class="memItemLeft" align="right" valign="top">file &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="init_8h.html">init.h</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:initX_8h"><td class="memItemLeft" align="right" valign="top">file &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="initX_8h.html">initX.h</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:gad18b547879ca2457c7423dbb2b96a5f1"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__init.html#gad18b547879ca2457c7423dbb2b96a5f1">_opennsl_shutdown</a>(unit)&#160;&#160;&#160;<a class="el" href="group__error.html#ggab4c007d9d8465756b8f672c33764e6d5a549cc71e16fe086c0311d03bc995a11b">OPENNSL_E_NONE</a></td></tr>
<tr class="separator:gad18b547879ca2457c7423dbb2b96a5f1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:gaf0fbd3c58f628d089486a8e9ab6a51e3"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="structopennsl__info__s.html">opennsl_info_s</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__init.html#gaf0fbd3c58f628d089486a8e9ab6a51e3">opennsl_info_t</a></td></tr>
<tr class="memdesc:gaf0fbd3c58f628d089486a8e9ab6a51e3"><td class="mdescLeft">&#160;</td><td class="mdescRight">OPENNSL Information structure.  <a href="#gaf0fbd3c58f628d089486a8e9ab6a51e3"></a><br/></td></tr>
<tr class="separator:gaf0fbd3c58f628d089486a8e9ab6a51e3"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gae0ff8508b014643d0f596aeb0b5c1b9f"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__init.html#gae0ff8508b014643d0f596aeb0b5c1b9f">opennsl_attach</a> (int unit, char *type, char *subtype, int remunit) <a class="el" href="commdefs_8h.html#ae4b46fd67f240eb74299c3cc714368f1">LIB_DLL_EXPORTED</a></td></tr>
<tr class="memdesc:gae0ff8508b014643d0f596aeb0b5c1b9f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Attach a device as a OPENNSL unit.  <a href="#gae0ff8508b014643d0f596aeb0b5c1b9f"></a><br/></td></tr>
<tr class="separator:gae0ff8508b014643d0f596aeb0b5c1b9f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaaaa37e99ea864347c759bf9b19aab2fb"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__init.html#gaaaa37e99ea864347c759bf9b19aab2fb">opennsl_attach_check</a> (int unit) <a class="el" href="commdefs_8h.html#ae4b46fd67f240eb74299c3cc714368f1">LIB_DLL_EXPORTED</a></td></tr>
<tr class="memdesc:gaaaa37e99ea864347c759bf9b19aab2fb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Determine if a OPENNSL unit is attached.  <a href="#gaaaa37e99ea864347c759bf9b19aab2fb"></a><br/></td></tr>
<tr class="separator:gaaaa37e99ea864347c759bf9b19aab2fb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf510b5bc4ae4a230de2f620bdd196e9d"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__init.html#gaf510b5bc4ae4a230de2f620bdd196e9d">opennsl_attach_max</a> (int *max_units) <a class="el" href="commdefs_8h.html#ae4b46fd67f240eb74299c3cc714368f1">LIB_DLL_EXPORTED</a></td></tr>
<tr class="memdesc:gaf510b5bc4ae4a230de2f620bdd196e9d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Determine the highest OPENNSL unit currently attached.  <a href="#gaf510b5bc4ae4a230de2f620bdd196e9d"></a><br/></td></tr>
<tr class="separator:gaf510b5bc4ae4a230de2f620bdd196e9d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae6cf06649cbea3bc6874fb73bacdab8b"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__init.html#gae6cf06649cbea3bc6874fb73bacdab8b">opennsl_detach</a> (int unit) <a class="el" href="commdefs_8h.html#ae4b46fd67f240eb74299c3cc714368f1">LIB_DLL_EXPORTED</a></td></tr>
<tr class="memdesc:gae6cf06649cbea3bc6874fb73bacdab8b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Detach a device as a OPENNSL unit.  <a href="#gae6cf06649cbea3bc6874fb73bacdab8b"></a><br/></td></tr>
<tr class="separator:gae6cf06649cbea3bc6874fb73bacdab8b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga64691ef7b923460206cd9abb675807c0"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__init.html#ga64691ef7b923460206cd9abb675807c0">opennsl_info_get</a> (int unit, <a class="el" href="group__init.html#gaf0fbd3c58f628d089486a8e9ab6a51e3">opennsl_info_t</a> *info) <a class="el" href="commdefs_8h.html#ae4b46fd67f240eb74299c3cc714368f1">LIB_DLL_EXPORTED</a></td></tr>
<tr class="memdesc:ga64691ef7b923460206cd9abb675807c0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get information about a OPENNSL unit.  <a href="#ga64691ef7b923460206cd9abb675807c0"></a><br/></td></tr>
<tr class="separator:ga64691ef7b923460206cd9abb675807c0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae2b1404b5dbb6bae762128cc0dc9d2bd"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__init.html#gae2b1404b5dbb6bae762128cc0dc9d2bd">opennsl_info_t_init</a> (<a class="el" href="group__init.html#gaf0fbd3c58f628d089486a8e9ab6a51e3">opennsl_info_t</a> *info) <a class="el" href="commdefs_8h.html#ae4b46fd67f240eb74299c3cc714368f1">LIB_DLL_EXPORTED</a></td></tr>
<tr class="memdesc:gae2b1404b5dbb6bae762128cc0dc9d2bd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize the OPENNSL Information structure.  <a href="#gae2b1404b5dbb6bae762128cc0dc9d2bd"></a><br/></td></tr>
<tr class="separator:gae2b1404b5dbb6bae762128cc0dc9d2bd"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a class="anchor" id="gad18b547879ca2457c7423dbb2b96a5f1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define _opennsl_shutdown</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">unit</td><td>)</td>
          <td>&#160;&#160;&#160;<a class="el" href="group__error.html#ggab4c007d9d8465756b8f672c33764e6d5a549cc71e16fe086c0311d03bc995a11b">OPENNSL_E_NONE</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="init_8h_source.html#l00146">146</a> of file <a class="el" href="init_8h_source.html">init.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Typedef Documentation</h2>
<a class="anchor" id="gaf0fbd3c58f628d089486a8e9ab6a51e3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="structopennsl__info__s.html">opennsl_info_s</a>  <a class="el" href="group__init.html#gaf0fbd3c58f628d089486a8e9ab6a51e3">opennsl_info_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>OPENNSL Information structure. </p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="gae0ff8508b014643d0f596aeb0b5c1b9f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int opennsl_attach </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>unit</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>subtype</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>remunit</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Attach a device as a OPENNSL unit. </p>
<dl class="section user"><dt>Description</dt><dd>Create a OPENNSL unit instance. If the unit parameter is non-negative, use that value as the unit number for the attached device. Otherwise, search for an unused OPENNSL unit number. If the type parameter is NULL, then search for an appropriate dispatch driver.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">unit</td><td>[IN] Unit number. </td></tr>
    <tr><td class="paramname">type</td><td>[IN] Type of OPENNSL API dispatch driver </td></tr>
    <tr><td class="paramname">subtype</td><td>[IN] Argument to dispatch driver </td></tr>
    <tr><td class="paramname">remunit</td><td>[IN] Underlying remote unit</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">unit</td><td>the attached non-negative unit number (if successful) </td></tr>
    <tr><td class="paramname">OPENNSL_E_MEMORY</td><td>memory allocation failure </td></tr>
    <tr><td class="paramname">OPENNSL_E_CONFIG</td><td>dispatch driver not found </td></tr>
    <tr><td class="paramname">OPENNSL_E_FULL</td><td>no available unit numbers </td></tr>
    <tr><td class="paramname">OPENNSL_E_EXISTS</td><td>requested unit number already attached </td></tr>
    <tr><td class="paramname">OPENNSL_E_XXX</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="gaaaa37e99ea864347c759bf9b19aab2fb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int opennsl_attach_check </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>unit</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Determine if a OPENNSL unit is attached. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">unit</td><td>[IN] Unit number.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">OPENNSL_E_UNIT</td><td>unit is not attached </td></tr>
    <tr><td class="paramname">OPENNSL_E_NONE</td><td>unit is attached </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="gaf510b5bc4ae4a230de2f620bdd196e9d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int opennsl_attach_max </td>
          <td>(</td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>max_units</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Determine the highest OPENNSL unit currently attached. </p>
<dl class="section user"><dt>Description</dt><dd>The parameter is filled with the highest currently attached unit number. If no OPENNSL units are attached, then -1 will be stored through the parameter.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">max_units</td><td>[OUT] highest unit number</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">OPENNSL_E_NONE</td><td></td></tr>
  </table>
  </dd>
</dl>

<p>Referenced by <a class="el" href="example__rpc__app_8c.html#a0ddf1224851353fc92bfbff6f499fa97">main()</a>.</p>

</div>
</div>
<a class="anchor" id="gae6cf06649cbea3bc6874fb73bacdab8b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int opennsl_detach </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>unit</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Detach a device as a OPENNSL unit. </p>
<dl class="section user"><dt>Description</dt><dd>Destroy a OPENNSL unit instance. The unit is removed from the list of OPENNSL dispatchable units. Detaching a unit does not affect the underlying device if it was attached as a loopback or remote unit. This API is not thread-safe. In a multi-threaded environment where multiple threads may be calling various OPENNSL APIs, it is recommended that such threads be stopped before invoking <a class="el" href="group__init.html#gae6cf06649cbea3bc6874fb73bacdab8b" title="Detach a device as a OPENNSL unit.">opennsl_detach()</a>.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">unit</td><td>[IN] Unit number.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">OPENNSL_E_XXX</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga64691ef7b923460206cd9abb675807c0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int opennsl_info_get </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>unit</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__init.html#gaf0fbd3c58f628d089486a8e9ab6a51e3">opennsl_info_t</a> *&#160;</td>
          <td class="paramname"><em>info</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get information about a OPENNSL unit. </p>
<dl class="section user"><dt>Description</dt><dd>The OPENNSL device information structure given as an argument is filled in for the OPENNSL unit.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">unit</td><td>[IN] Unit number. </td></tr>
    <tr><td class="paramname">info</td><td>[OUT] OPENNSL information structure, as defined in =opennsl_info_t</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">OPENNSL_E_XXX</td><td></td></tr>
  </table>
  </dd>
</dl>

<p>Referenced by <a class="el" href="dpp_2example__policer_8c.html#aa4320dfff072ae795431d11fc2cd76fb">example_create_meter()</a>, <a class="el" href="util_8c.html#a0c51b0c053abe73fa4c2f755a0b276e1">example_is_dnx_device()</a>, <a class="el" href="util_8c.html#a131ca7039d41fc26c375479724d2f903">example_is_qmx_device()</a>, <a class="el" href="dpp_2example__vxlan_8c.html#a250f8b62242774ce141a27acb9752aaa">init_portmap()</a>, and <a class="el" href="example__rpc__app_8c.html#a0ddf1224851353fc92bfbff6f499fa97">main()</a>.</p>

</div>
</div>
<a class="anchor" id="gae2b1404b5dbb6bae762128cc0dc9d2bd"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void opennsl_info_t_init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__init.html#gaf0fbd3c58f628d089486a8e9ab6a51e3">opennsl_info_t</a> *&#160;</td>
          <td class="paramname"><em>info</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize the OPENNSL Information structure. </p>
<dl class="section user"><dt>Description</dt><dd>Initializes OPENNSL Information structure to default values. This function should be used to initialize any OPENNSL Information structure prior to filling it out and passing it to an API function. This ensures that subsequent API releases may add new structure members to the opennsl_info_t structure, and opennsl_info_t_init will initialize the new members to correct default values.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">info</td><td>[IN,OUT] Pointer to OPENNSL Information structure.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">None.</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
<!-- HTML footer for doxygen 1.8.5-->
<!-- start footer part -->
<!--BEGIN GENERATE_TREEVIEW -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
<hr>
<p>	
<table class="footer-brcm">
	<tr>
		<td class="footer-brcm"><img src="BRCM_Red+Black_noTag_RGB.png" align=left></td>
		<td class="footer-brcm"><small><b>&copy;  2016-17 by Broadcom Limited. All rights reserved.</b></small>
			<div class="footer-brcm"><small>Broadcom Limited reserves the right to make changes without further notice to any products or data herein to improve reliability, function, or design. 
Information furnished by Broadcom Limited is believed to be accurate and reliable. However, Broadcom Limited does not assume any liability arising 
out of the application or use of this information, nor the application or use of any product or circuit described herein, neither does it convey any license 
under its patent rights nor the rights of others. </small>
			</div>
		</td>
	</tr>
</table>	
</p>	
</div>
<!--END GENERATE_TREEVIEW-->
</body>
</html>
